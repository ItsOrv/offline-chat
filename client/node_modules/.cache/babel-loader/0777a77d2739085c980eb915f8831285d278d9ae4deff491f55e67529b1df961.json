{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/orv/Documents/Projects/offline/offline/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import styled from'styled-components';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const{register}=useAuth();const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();// Validate form\nif(!username||!password||!confirmPassword){return setError('Please fill in all fields');}if(password!==confirmPassword){return setError('Passwords do not match');}if(password.length<6){return setError('Password must be at least 6 characters');}setLoading(true);setError('');try{const result=await register(username,password);if(result.success){navigate('/');}else{setError(result.error||'Registration failed');}}catch(error){setError('Error during registration');console.error('Registration error:',error);}setLoading(false);};return/*#__PURE__*/_jsx(RegisterContainer,{children:/*#__PURE__*/_jsxs(RegisterCard,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register for Orv Chat\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Secure Communication Platform\"}),error&&/*#__PURE__*/_jsx(ErrorMessage,{children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",value:username,onChange:e=>setUsername(e.target.value),className:\"form-control\",placeholder:\"Choose your username\",disabled:loading})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),className:\"form-control\",placeholder:\"Enter your password\",disabled:loading})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),className:\"form-control\",placeholder:\"Confirm your password\",disabled:loading})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:loading,children:loading?'Registering...':'Register'}),/*#__PURE__*/_jsxs(LoginLink,{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})]})]})});};const RegisterContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  min-height: 100vh;\\n  background-color: var(--bg-primary);\\n\"])));const RegisterCard=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background-color: var(--bg-secondary);\\n  border-radius: 8px;\\n  box-shadow: 0 4px 20px var(--shadow-color);\\n  padding: 2rem;\\n  width: 100%;\\n  max-width: 400px;\\n  \\n  h1 {\\n    margin-bottom: 0.5rem;\\n    color: var(--text-primary);\\n    text-align: center;\\n  }\\n  \\n  h3 {\\n    margin-bottom: 2rem;\\n    color: var(--text-secondary);\\n    text-align: center;\\n    font-weight: normal;\\n  }\\n\"])));const FormGroup=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin-bottom: 1.5rem;\\n  \\n  label {\\n    display: block;\\n    margin-bottom: 0.5rem;\\n    font-weight: 500;\\n    color: var(--text-secondary);\\n  }\\n\"])));const Button=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  background-color: var(--accent-color);\\n  color: var(--text-primary);\\n  border: none;\\n  border-radius: 4px;\\n  padding: 0.75rem 1rem;\\n  font-size: 1rem;\\n  font-weight: 500;\\n  width: 100%;\\n  cursor: pointer;\\n  transition: background-color 0.3s;\\n  \\n  &:hover {\\n    background-color: var(--accent-hover);\\n  }\\n  \\n  &:disabled {\\n    background-color: #555;\\n    cursor: not-allowed;\\n  }\\n\"])));const LoginLink=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  margin-top: 1.5rem;\\n  text-align: center;\\n  font-size: 0.9rem;\\n  color: var(--text-secondary);\\n  \\n  a {\\n    color: var(--accent-color);\\n    font-weight: 500;\\n    \\n    &:hover {\\n      text-decoration: underline;\\n    }\\n  }\\n\"])));const ErrorMessage=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  background-color: rgba(231, 76, 60, 0.2);\\n  color: var(--danger-color);\\n  padding: 0.75rem 1rem;\\n  margin-bottom: 1.5rem;\\n  border-radius: 4px;\\n  text-align: center;\\n  border: 1px solid var(--danger-color);\\n\"])));export default Register;","map":{"version":3,"names":["React","useState","Link","useNavigate","useAuth","styled","jsx","_jsx","jsxs","_jsxs","Register","username","setUsername","password","setPassword","confirmPassword","setConfirmPassword","error","setError","loading","setLoading","register","navigate","handleSubmit","e","preventDefault","length","result","success","console","RegisterContainer","children","RegisterCard","ErrorMessage","onSubmit","FormGroup","htmlFor","type","id","value","onChange","target","className","placeholder","disabled","Button","LoginLink","to","div","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","button","_templateObject4","_templateObject5","_templateObject6"],"sources":["/home/orv/Documents/Projects/offline/offline/client/src/pages/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport styled from 'styled-components';\n\nconst Register = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  \n  const { register } = useAuth();\n  const navigate = useNavigate();\n  \n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Validate form\n    if (!username || !password || !confirmPassword) {\n      return setError('Please fill in all fields');\n    }\n    \n    if (password !== confirmPassword) {\n      return setError('Passwords do not match');\n    }\n    \n    if (password.length < 6) {\n      return setError('Password must be at least 6 characters');\n    }\n    \n    setLoading(true);\n    setError('');\n    \n    try {\n      const result = await register(username, password);\n      \n      if (result.success) {\n        navigate('/');\n      } else {\n        setError(result.error || 'Registration failed');\n      }\n    } catch (error) {\n      setError('Error during registration');\n      console.error('Registration error:', error);\n    }\n    \n    setLoading(false);\n  };\n  \n  return (\n    <RegisterContainer>\n      <RegisterCard>\n        <h1>Register for Orv Chat</h1>\n        <h3>Secure Communication Platform</h3>\n        \n        {error && <ErrorMessage>{error}</ErrorMessage>}\n        \n        <form onSubmit={handleSubmit}>\n          <FormGroup>\n            <label htmlFor=\"username\">Username</label>\n            <input\n              type=\"text\"\n              id=\"username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              className=\"form-control\"\n              placeholder=\"Choose your username\"\n              disabled={loading}\n            />\n          </FormGroup>\n          \n          <FormGroup>\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"form-control\"\n              placeholder=\"Enter your password\"\n              disabled={loading}\n            />\n          </FormGroup>\n          \n          <FormGroup>\n            <label htmlFor=\"confirmPassword\">Confirm Password</label>\n            <input\n              type=\"password\"\n              id=\"confirmPassword\"\n              value={confirmPassword}\n              onChange={(e) => setConfirmPassword(e.target.value)}\n              className=\"form-control\"\n              placeholder=\"Confirm your password\"\n              disabled={loading}\n            />\n          </FormGroup>\n          \n          <Button type=\"submit\" disabled={loading}>\n            {loading ? 'Registering...' : 'Register'}\n          </Button>\n          \n          <LoginLink>\n            Already have an account? <Link to=\"/login\">Login</Link>\n          </LoginLink>\n        </form>\n      </RegisterCard>\n    </RegisterContainer>\n  );\n};\n\nconst RegisterContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background-color: var(--bg-primary);\n`;\n\nconst RegisterCard = styled.div`\n  background-color: var(--bg-secondary);\n  border-radius: 8px;\n  box-shadow: 0 4px 20px var(--shadow-color);\n  padding: 2rem;\n  width: 100%;\n  max-width: 400px;\n  \n  h1 {\n    margin-bottom: 0.5rem;\n    color: var(--text-primary);\n    text-align: center;\n  }\n  \n  h3 {\n    margin-bottom: 2rem;\n    color: var(--text-secondary);\n    text-align: center;\n    font-weight: normal;\n  }\n`;\n\nconst FormGroup = styled.div`\n  margin-bottom: 1.5rem;\n  \n  label {\n    display: block;\n    margin-bottom: 0.5rem;\n    font-weight: 500;\n    color: var(--text-secondary);\n  }\n`;\n\nconst Button = styled.button`\n  background-color: var(--accent-color);\n  color: var(--text-primary);\n  border: none;\n  border-radius: 4px;\n  padding: 0.75rem 1rem;\n  font-size: 1rem;\n  font-weight: 500;\n  width: 100%;\n  cursor: pointer;\n  transition: background-color 0.3s;\n  \n  &:hover {\n    background-color: var(--accent-hover);\n  }\n  \n  &:disabled {\n    background-color: #555;\n    cursor: not-allowed;\n  }\n`;\n\nconst LoginLink = styled.div`\n  margin-top: 1.5rem;\n  text-align: center;\n  font-size: 0.9rem;\n  color: var(--text-secondary);\n  \n  a {\n    color: var(--accent-color);\n    font-weight: 500;\n    \n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  background-color: rgba(231, 76, 60, 0.2);\n  color: var(--danger-color);\n  padding: 0.75rem 1rem;\n  margin-bottom: 1.5rem;\n  border-radius: 4px;\n  text-align: center;\n  border: 1px solid var(--danger-color);\n`;\n\nexport default Register; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}