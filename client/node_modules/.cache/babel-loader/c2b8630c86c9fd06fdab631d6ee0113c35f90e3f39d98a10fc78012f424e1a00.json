{"ast":null,"code":"var _jsxFileName = \"/home/orv/Documents/Projects/offline/offline/client/src/pages/PrivateChat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport { io } from 'socket.io-client';\nimport { useAuth } from '../context/AuthContext';\nimport Navigation from '../components/Navigation';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PrivateChat = () => {\n  _s();\n  const {\n    userId\n  } = useParams();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [recipientUser, setRecipientUser] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const socketRef = useRef();\n  const messagesEndRef = useRef(null);\n\n  // Scroll to the bottom of messages\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n\n  // Initialize socket connection and fetch messages\n  useEffect(() => {\n    if (!user || !userId) return;\n    const serverUrl = process.env.REACT_APP_API_URL || '';\n    socketRef.current = io(serverUrl);\n\n    // Connect user\n    socketRef.current.emit('user_connected', user.id);\n\n    // Fetch user info and messages\n    const fetchData = async () => {\n      try {\n        // Fetch recipient user info\n        const userResponse = await axios.get(`/api/users/${userId}`);\n        if (userResponse.data.success) {\n          setRecipientUser(userResponse.data.user);\n\n          // Fetch messages between current user and recipient\n          const messagesResponse = await axios.get(`/api/messages/private/${userId}`);\n          if (messagesResponse.data.success) {\n            setMessages(messagesResponse.data.messages);\n          }\n        } else {\n          setError('User not found');\n        }\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        setError('Error loading data');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n\n    // Cleanup socket connection\n    return () => {\n      if (socketRef.current) {\n        socketRef.current.disconnect();\n      }\n    };\n  }, [userId, user]);\n\n  // Set up socket event listeners\n  useEffect(() => {\n    if (!socketRef.current || !user || !userId) return;\n\n    // Listen for private messages\n    socketRef.current.on('receive_private_message', message => {\n      console.log('Received private message:', message);\n      // Only add message if it's from the current chat\n      if (message.sender.id === parseInt(userId) && message.recipient.id === user.id || message.sender.id === user.id && message.recipient.id === parseInt(userId)) {\n        setMessages(prevMessages => [...prevMessages, message]);\n      }\n    });\n\n    // Confirmation that message was sent\n    socketRef.current.on('private_message_sent', messageId => {\n      console.log('Private message sent:', messageId);\n    });\n\n    // Error handling\n    socketRef.current.on('message_error', error => {\n      console.error('Message error:', error);\n      setError(error.error || 'Error sending message');\n      setTimeout(() => setError(''), 3000);\n    });\n    return () => {\n      socketRef.current.off('receive_private_message');\n      socketRef.current.off('private_message_sent');\n      socketRef.current.off('message_error');\n    };\n  }, [userId, user]);\n\n  // Scroll to bottom when messages update\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Send a new message\n  const sendMessage = e => {\n    e.preventDefault();\n    if (!newMessage.trim() || !user || !recipientUser) return;\n\n    // Send message through socket\n    socketRef.current.emit('send_private_message', {\n      sender: user.id,\n      recipient: parseInt(userId),\n      content: newMessage.trim()\n    });\n\n    // Optimistically add message to UI\n    const optimisticMessage = {\n      id: Date.now().toString(),\n      // Temporary ID\n      sender: {\n        id: user.id,\n        username: user.username\n      },\n      recipient: {\n        id: parseInt(userId),\n        username: (recipientUser === null || recipientUser === void 0 ? void 0 : recipientUser.username) || 'User'\n      },\n      content: newMessage.trim(),\n      createdAt: new Date().toISOString()\n    };\n    setMessages(prev => [...prev, optimisticMessage]);\n\n    // Clear input\n    setNewMessage('');\n  };\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Please log in to view this page.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ChatContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ChatHeader, {\n        children: [/*#__PURE__*/_jsxDEV(BackLink, {\n          to: \"/\",\n          children: \"\\xAB Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Chat with \", recipientUser === null || recipientUser === void 0 ? void 0 : recipientUser.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this)\n        }, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MessagesContainer, {\n        children: [loading ? /*#__PURE__*/_jsxDEV(LoadingMessage, {\n          children: \"Loading messages...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this) : messages.length === 0 ? /*#__PURE__*/_jsxDEV(EmptyMessage, {\n          children: \"No messages yet. Start the conversation!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this) : messages.map(message => /*#__PURE__*/_jsxDEV(MessageBubble, {\n          isOwnMessage: message.sender.id === user.id || message.sender._id === user.id,\n          children: [/*#__PURE__*/_jsxDEV(MessageContent, {\n            children: message.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(MessageTime, {\n            children: new Date(message.createdAt).toLocaleTimeString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this)]\n        }, message.id || message._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MessageForm, {\n        onSubmit: sendMessage,\n        children: [/*#__PURE__*/_jsxDEV(MessageInput, {\n          type: \"text\",\n          value: newMessage,\n          onChange: e => setNewMessage(e.target.value),\n          placeholder: \"Type your message...\",\n          disabled: loading || !!error || !recipientUser,\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SendButton, {\n          type: \"submit\",\n          disabled: loading || !!error || !recipientUser || !newMessage.trim(),\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(PrivateChat, \"KnYh/KFxBCmfhZab++7AV+w09H8=\", false, function () {\n  return [useParams, useAuth, useNavigate];\n});\n_c = PrivateChat;\nconst ChatContainer = styled.div`\n  max-width: 900px;\n  margin: 0 auto;\n  height: calc(100vh - 60px);\n  display: flex;\n  flex-direction: column;\n`;\n_c2 = ChatContainer;\nconst ChatHeader = styled.div`\n  padding: 1.5rem;\n  background-color: var(--bg-secondary);\n  border-bottom: 1px solid var(--border-color);\n  \n  h2 {\n    margin: 0.5rem 0;\n    color: var(--text-primary);\n    text-align: center;\n  }\n`;\n_c3 = ChatHeader;\nconst BackLink = styled(Link)`\n  display: block;\n  margin-bottom: 1rem;\n  color: var(--accent-color);\n  \n  &:hover {\n    text-decoration: underline;\n  }\n`;\n_c4 = BackLink;\nconst MessagesContainer = styled.div`\n  flex: 1;\n  padding: 1.5rem;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  background-color: var(--bg-primary);\n`;\n_c5 = MessagesContainer;\nconst LoadingMessage = styled.div`\n  text-align: center;\n  color: var(--text-secondary);\n  margin: 2rem 0;\n`;\n_c6 = LoadingMessage;\nconst EmptyMessage = styled.div`\n  text-align: center;\n  color: var(--text-secondary);\n  margin: 2rem 0;\n`;\n_c7 = EmptyMessage;\nconst ErrorMessage = styled.div`\n  text-align: center;\n  color: var(--danger-color);\n  font-weight: 500;\n  margin: 1rem 0;\n`;\n_c8 = ErrorMessage;\nconst MessageBubble = styled.div`\n  max-width: 70%;\n  padding: 1rem;\n  border-radius: 8px;\n  background-color: ${props => props.isOwnMessage ? 'var(--accent-color)' : 'var(--bg-secondary)'};\n  color: ${props => props.isOwnMessage ? 'var(--text-primary)' : 'var(--text-primary)'};\n  align-self: ${props => props.isOwnMessage ? 'flex-end' : 'flex-start'};\n  box-shadow: 0 1px 2px var(--shadow-color);\n`;\n_c9 = MessageBubble;\nconst MessageContent = styled.p`\n  margin-bottom: 0.5rem;\n  word-break: break-word;\n`;\n_c0 = MessageContent;\nconst MessageTime = styled.span`\n  display: block;\n  font-size: 0.7rem;\n  opacity: 0.7;\n  text-align: right;\n  margin-top: 0.3rem;\n`;\n_c1 = MessageTime;\nconst MessageForm = styled.form`\n  display: flex;\n  padding: 1rem;\n  background-color: var(--bg-secondary);\n  border-top: 1px solid var(--border-color);\n`;\n_c10 = MessageForm;\nconst MessageInput = styled.input`\n  flex: 1;\n  padding: 0.75rem;\n  border: 1px solid var(--border-color);\n  border-radius: 4px 0 0 4px;\n  font-size: 1rem;\n  background-color: var(--bg-tertiary);\n  color: var(--text-primary);\n  \n  &:focus {\n    outline: none;\n    border-color: var(--accent-color);\n  }\n`;\n_c11 = MessageInput;\nconst SendButton = styled.button`\n  background-color: var(--accent-color);\n  color: var(--text-primary);\n  border: none;\n  border-radius: 0 4px 4px 0;\n  padding: 0 1.5rem;\n  font-size: 1rem;\n  cursor: pointer;\n  \n  &:hover {\n    background-color: var(--accent-hover);\n  }\n  \n  &:disabled {\n    background-color: #555;\n    opacity: 0.7;\n    cursor: not-allowed;\n  }\n`;\n_c12 = SendButton;\nexport default PrivateChat;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12;\n$RefreshReg$(_c, \"PrivateChat\");\n$RefreshReg$(_c2, \"ChatContainer\");\n$RefreshReg$(_c3, \"ChatHeader\");\n$RefreshReg$(_c4, \"BackLink\");\n$RefreshReg$(_c5, \"MessagesContainer\");\n$RefreshReg$(_c6, \"LoadingMessage\");\n$RefreshReg$(_c7, \"EmptyMessage\");\n$RefreshReg$(_c8, \"ErrorMessage\");\n$RefreshReg$(_c9, \"MessageBubble\");\n$RefreshReg$(_c0, \"MessageContent\");\n$RefreshReg$(_c1, \"MessageTime\");\n$RefreshReg$(_c10, \"MessageForm\");\n$RefreshReg$(_c11, \"MessageInput\");\n$RefreshReg$(_c12, \"SendButton\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","Link","useNavigate","styled","axios","io","useAuth","Navigation","jsxDEV","_jsxDEV","Fragment","_Fragment","PrivateChat","_s","userId","user","navigate","recipientUser","setRecipientUser","messages","setMessages","newMessage","setNewMessage","loading","setLoading","error","setError","socketRef","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","serverUrl","process","env","REACT_APP_API_URL","emit","id","fetchData","userResponse","get","data","success","messagesResponse","console","disconnect","on","message","log","sender","parseInt","recipient","prevMessages","messageId","setTimeout","off","sendMessage","e","preventDefault","trim","content","optimisticMessage","Date","now","toString","username","createdAt","toISOString","prev","children","fileName","_jsxFileName","lineNumber","columnNumber","ChatContainer","ChatHeader","BackLink","to","ErrorMessage","MessagesContainer","LoadingMessage","length","EmptyMessage","map","MessageBubble","isOwnMessage","_id","MessageContent","MessageTime","toLocaleTimeString","ref","MessageForm","onSubmit","MessageInput","type","value","onChange","target","placeholder","disabled","autoFocus","SendButton","_c","div","_c2","_c3","_c4","_c5","_c6","_c7","_c8","props","_c9","p","_c0","span","_c1","form","_c10","input","_c11","button","_c12","$RefreshReg$"],"sources":["/home/orv/Documents/Projects/offline/offline/client/src/pages/PrivateChat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport { io } from 'socket.io-client';\nimport { useAuth } from '../context/AuthContext';\nimport Navigation from '../components/Navigation';\n\nconst PrivateChat = () => {\n  const { userId } = useParams();\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  \n  const [recipientUser, setRecipientUser] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  \n  const socketRef = useRef();\n  const messagesEndRef = useRef(null);\n  \n  // Scroll to the bottom of messages\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n  \n  // Initialize socket connection and fetch messages\n  useEffect(() => {\n    if (!user || !userId) return;\n\n    const serverUrl = process.env.REACT_APP_API_URL || '';\n    socketRef.current = io(serverUrl);\n    \n    // Connect user\n    socketRef.current.emit('user_connected', user.id);\n    \n    // Fetch user info and messages\n    const fetchData = async () => {\n      try {\n        // Fetch recipient user info\n        const userResponse = await axios.get(`/api/users/${userId}`);\n        \n        if (userResponse.data.success) {\n          setRecipientUser(userResponse.data.user);\n          \n          // Fetch messages between current user and recipient\n          const messagesResponse = await axios.get(`/api/messages/private/${userId}`);\n          \n          if (messagesResponse.data.success) {\n            setMessages(messagesResponse.data.messages);\n          }\n        } else {\n          setError('User not found');\n        }\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        setError('Error loading data');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchData();\n    \n    // Cleanup socket connection\n    return () => {\n      if (socketRef.current) {\n        socketRef.current.disconnect();\n      }\n    };\n  }, [userId, user]);\n  \n  // Set up socket event listeners\n  useEffect(() => {\n    if (!socketRef.current || !user || !userId) return;\n    \n    // Listen for private messages\n    socketRef.current.on('receive_private_message', (message) => {\n      console.log('Received private message:', message);\n      // Only add message if it's from the current chat\n      if (\n        (message.sender.id === parseInt(userId) && message.recipient.id === user.id) ||\n        (message.sender.id === user.id && message.recipient.id === parseInt(userId))\n      ) {\n        setMessages((prevMessages) => [...prevMessages, message]);\n      }\n    });\n    \n    // Confirmation that message was sent\n    socketRef.current.on('private_message_sent', (messageId) => {\n      console.log('Private message sent:', messageId);\n    });\n    \n    // Error handling\n    socketRef.current.on('message_error', (error) => {\n      console.error('Message error:', error);\n      setError(error.error || 'Error sending message');\n      setTimeout(() => setError(''), 3000);\n    });\n    \n    return () => {\n      socketRef.current.off('receive_private_message');\n      socketRef.current.off('private_message_sent');\n      socketRef.current.off('message_error');\n    };\n  }, [userId, user]);\n  \n  // Scroll to bottom when messages update\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  \n  // Send a new message\n  const sendMessage = (e) => {\n    e.preventDefault();\n    \n    if (!newMessage.trim() || !user || !recipientUser) return;\n    \n    // Send message through socket\n    socketRef.current.emit('send_private_message', {\n      sender: user.id,\n      recipient: parseInt(userId),\n      content: newMessage.trim(),\n    });\n    \n    // Optimistically add message to UI\n    const optimisticMessage = {\n      id: Date.now().toString(), // Temporary ID\n      sender: {\n        id: user.id,\n        username: user.username,\n      },\n      recipient: {\n        id: parseInt(userId),\n        username: recipientUser?.username || 'User',\n      },\n      content: newMessage.trim(),\n      createdAt: new Date().toISOString(),\n    };\n    \n    setMessages((prev) => [...prev, optimisticMessage]);\n    \n    // Clear input\n    setNewMessage('');\n  };\n  \n  if (!user) {\n    return <div>Please log in to view this page.</div>;\n  }\n  \n  return (\n    <>\n      <Navigation />\n      <ChatContainer>\n        <ChatHeader>\n          <BackLink to=\"/\">« Back to Dashboard</BackLink>\n          {loading ? (\n            <div>Loading...</div>\n          ) : error ? (\n            <ErrorMessage>{error}</ErrorMessage>\n          ) : (\n            <>\n              <h2>Chat with {recipientUser?.username}</h2>\n            </>\n          )}\n        </ChatHeader>\n        \n        <MessagesContainer>\n          {loading ? (\n            <LoadingMessage>Loading messages...</LoadingMessage>\n          ) : error ? (\n            <ErrorMessage>{error}</ErrorMessage>\n          ) : messages.length === 0 ? (\n            <EmptyMessage>No messages yet. Start the conversation!</EmptyMessage>\n          ) : (\n            messages.map((message) => (\n              <MessageBubble\n                key={message.id || message._id}\n                isOwnMessage={message.sender.id === user.id || message.sender._id === user.id}\n              >\n                <MessageContent>{message.content}</MessageContent>\n                <MessageTime>\n                  {new Date(message.createdAt).toLocaleTimeString()}\n                </MessageTime>\n              </MessageBubble>\n            ))\n          )}\n          <div ref={messagesEndRef} />\n        </MessagesContainer>\n        \n        <MessageForm onSubmit={sendMessage}>\n          <MessageInput\n            type=\"text\"\n            value={newMessage}\n            onChange={(e) => setNewMessage(e.target.value)}\n            placeholder=\"Type your message...\"\n            disabled={loading || !!error || !recipientUser}\n            autoFocus\n          />\n          <SendButton type=\"submit\" disabled={loading || !!error || !recipientUser || !newMessage.trim()}>\n            Send\n          </SendButton>\n        </MessageForm>\n      </ChatContainer>\n    </>\n  );\n};\n\nconst ChatContainer = styled.div`\n  max-width: 900px;\n  margin: 0 auto;\n  height: calc(100vh - 60px);\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ChatHeader = styled.div`\n  padding: 1.5rem;\n  background-color: var(--bg-secondary);\n  border-bottom: 1px solid var(--border-color);\n  \n  h2 {\n    margin: 0.5rem 0;\n    color: var(--text-primary);\n    text-align: center;\n  }\n`;\n\nconst BackLink = styled(Link)`\n  display: block;\n  margin-bottom: 1rem;\n  color: var(--accent-color);\n  \n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst MessagesContainer = styled.div`\n  flex: 1;\n  padding: 1.5rem;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  background-color: var(--bg-primary);\n`;\n\nconst LoadingMessage = styled.div`\n  text-align: center;\n  color: var(--text-secondary);\n  margin: 2rem 0;\n`;\n\nconst EmptyMessage = styled.div`\n  text-align: center;\n  color: var(--text-secondary);\n  margin: 2rem 0;\n`;\n\nconst ErrorMessage = styled.div`\n  text-align: center;\n  color: var(--danger-color);\n  font-weight: 500;\n  margin: 1rem 0;\n`;\n\nconst MessageBubble = styled.div`\n  max-width: 70%;\n  padding: 1rem;\n  border-radius: 8px;\n  background-color: ${(props) => (props.isOwnMessage ? 'var(--accent-color)' : 'var(--bg-secondary)')};\n  color: ${(props) => (props.isOwnMessage ? 'var(--text-primary)' : 'var(--text-primary)')};\n  align-self: ${(props) => (props.isOwnMessage ? 'flex-end' : 'flex-start')};\n  box-shadow: 0 1px 2px var(--shadow-color);\n`;\n\nconst MessageContent = styled.p`\n  margin-bottom: 0.5rem;\n  word-break: break-word;\n`;\n\nconst MessageTime = styled.span`\n  display: block;\n  font-size: 0.7rem;\n  opacity: 0.7;\n  text-align: right;\n  margin-top: 0.3rem;\n`;\n\nconst MessageForm = styled.form`\n  display: flex;\n  padding: 1rem;\n  background-color: var(--bg-secondary);\n  border-top: 1px solid var(--border-color);\n`;\n\nconst MessageInput = styled.input`\n  flex: 1;\n  padding: 0.75rem;\n  border: 1px solid var(--border-color);\n  border-radius: 4px 0 0 4px;\n  font-size: 1rem;\n  background-color: var(--bg-tertiary);\n  color: var(--text-primary);\n  \n  &:focus {\n    outline: none;\n    border-color: var(--accent-color);\n  }\n`;\n\nconst SendButton = styled.button`\n  background-color: var(--accent-color);\n  color: var(--text-primary);\n  border: none;\n  border-radius: 0 4px 4px 0;\n  padding: 0 1.5rem;\n  font-size: 1rem;\n  cursor: pointer;\n  \n  &:hover {\n    background-color: var(--accent-hover);\n  }\n  \n  &:disabled {\n    background-color: #555;\n    opacity: 0.7;\n    cursor: not-allowed;\n  }\n`;\n\nexport default PrivateChat; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}